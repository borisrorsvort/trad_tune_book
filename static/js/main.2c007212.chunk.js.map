{"version":3,"sources":["images/logo-small.svg","images/logo.svg","constants/actionTypes.js","actions/sets.js","actions/tuneBook.js","reducers/session.js","reducers/index.js","reducers/ui.js","reducers/tunes.js","reducers/sets.js","store.js","helpers/localStorage.js","actions/ui.js","components/DrawerItems.js","styles/layout.js","constants/layout.js","components/DrawerResponsive.js","components/NavDropDown.js","helpers/routerHelper.js","components/EmptyState.js","helpers/abcHelper.js","components/SheetMusic.js","components/Set.js","helpers/objectHelper.js","components/Sets.js","components/Tune.js","components/Tunebook.js","actions/session.js","App.js","components/NameAutoComplete.js","components/Home.js","registerServiceWorker.js","index.js"],"names":["module","exports","TUNE_URL","MEMBER_URL","receiveSets","sets","meta","add","type","fetchSets","memberId","nextPage","dispatch","axios","get","types","then","response","data","page","pages","total","perpage","catch","error","console","log","fetchSet","setId","currentSet","receiveTuneBook","tunes","fetchTuneBook","alert","fetchTune","tuneId","currentTune","session","index","ui","state","showDrawer","action","Object","assign","forceClose","currentUser","isFetching","persistedState","serializedState","localStorage","getItem","JSON","parse","e","loadState","middlewares","thunk","LogRocket","init","composeEnhancers","compose","store","createStore","combineReducers","rootReducer","applyMiddleware","subscribe","stringify","setItem","saveState","getState","toggleDrawer","DrawerItems","handleClick","_e","_isRowLoaded","props","items","_loadMoreRows","userId","_rowRenderer","style","key","item","itemName","name","length","he","decode","substring","component","Link","className","classNames","classes","activeListItem","isActive","id","button","to","match","params","url","primary","secondary","nextProps","this","list","forceUpdateGrid","document","getElementById","scrollTop","parseInt","height","isSets","_isEmpty","isRowLoaded","loadMoreRows","rowCount","onRowsRendered","registerChild","disableHeight","width","ref","el","rowHeight","rowRenderer","threshold","Component","withRouter","connect","router","withStyles","background","layoutStyles","theme","root","flexGrow","zIndex","overflowX","overflowY","position","display","appBar","drawer","transition","transitions","create","easing","easeOut","duration","enteringScreen","flex","alignItems","menuButton","marginLeft","marginRight","hide","drawerPaper","top","left","drawerHeader","justifyContent","padding","mixins","toolbar","logo","transform","greetings","spacing","unit","opacity","content","sharp","leavingScreen","marginTop","breakpoints","up","DrawerResponsive","elementHeight","setState","divRef","clientHeight","folder","drawerContent","path","element","mdUp","variant","anchor","open","paper","onClose","handleDrawerToggle","ModalProps","keepMounted","smDown","implementation","NavDropDown","anchorEl","selectedIndex","handleClickListItem","event","currentTarget","handleRequestClose","label","setsCount","shortLabel","tunesCount","location","selectedMenuItem","menuOptions","find","o","toLowerCase","includes","pathname","split","currentSection","aria-owns","aria-haspopup","onClick","color","righIcon","PaperProps","SIDEBAR_WIDTH","map","option","selected","tuneTypes","jig","tempo","reel","hornpipe","polka","slide","waltz","barndance","strathspey","mazurka","SheetMusic","abcjs","renderAbc","tune","undefined","abc","tuneType","join","tuneName","timeSignature","tuneKey","abcReformatter","title","paddingright","paddingleft","responsive","newWidth","containerWidth","renderMidi","margin","maxWidth","borderBottom","border","marginBottom","paddingBottom","reactDimensions","Set","newSetId","obj","printUrl","container","xs","md","mainTitle","printButton","href","target","mini","iconBtn","settings","setting","card","gutterBottom","member","date","fontSize","palette","text","textAlign","fontWeight","down","Tune","newTuneId","gutters","paddingTop","fetchUserId","query","App","isLoggedOut","aria-label","navIconHide","src","smallLogoUrl","alt","logout","size","isEmpty","renderInput","inputProps","autoFocus","value","other","textField","inputRef","styles","InputProps","input","renderSuggestion","suggestion","isHighlighted","matches","parts","part","highlight","renderSuggestionsContainer","options","containerProps","children","square","getSuggestionValue","NameAutoComplete","userName","selectedSuggestion","suggestions","handleSuggestionsFetchRequested","members","handleSuggestionsClearRequested","handleChange","newValue","suggestionsContainer","suggestionsContainerOpen","suggestionsList","renderInputComponent","onSuggestionsFetchRequested","onSuggestionsClearRequested","placeholder","onChange","right","listStyleType","home","lineHeight","login","alignSelf","justify","direction","logoUrl","elevation","rel","isLocalhost","Boolean","window","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","createMuiTheme","green","50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700","contrastDefaultColor","red","typography","useNextVariants","h1","fontFamily","app","exact","ReactDOM","render","URL","process","origin","addEventListener","fetch","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.2c007212.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-small.0ff303d1.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.6f584227.svg\";","export const REQUEST_TUNEBOOK = \"REQUEST_TUNEBOOK\";\nexport const RECEIVE_TUNEBOOK = \"RECEIVE_TUNEBOOK\";\nexport const REQUEST_TUNE = \"REQUEST_TUNE\";\nexport const RECEIVE_TUNE = \"RECEIVE_TUNE\";\n\nexport const REQUEST_SETS = \"REQUEST_SETS\";\nexport const RECEIVE_SETS = \"RECEIVE_SETS\";\nexport const REQUEST_SET = \"REQUEST_SET\";\nexport const RECEIVE_SET = \"RECEIVE_SET\";\n\nexport const TOGGLE_DRAWER = \"TOGGLE_DRAWER\";\nexport const UPDATE_CURRENT_USER = \"UPDATE_CURRENT_USER\";\nexport const REQUEST_USER_ID = \"UPDATE_USER_ID\";\nexport const LOGOUT = \"LOGOUT\";\n\nexport const TUNE_URL = \"https://thesession.org/tunes/\";\n\nexport const MEMBER_URL = \"https://thesession.org/members/\";\n","import * as types from \"../constants/actionTypes\";\n\nimport axios from \"axios\";\n\nfunction requestSets() {\n  return {\n    type: types.REQUEST_SETS\n  };\n}\n\nfunction receiveSets(sets, meta, add = false) {\n  return {\n    type: types.RECEIVE_SETS,\n    sets: sets,\n    meta: meta,\n    add: add\n  };\n}\n\nfunction requestSet() {\n  return {\n    type: types.REQUEST_SET\n  };\n}\n\nfunction receiveSet(set) {\n  return {\n    type: types.RECEIVE_SET,\n    currentSet: set\n  };\n}\n\nexport const fetchSets = (memberId, nextPage = 1, add = false) => dispatch => {\n  dispatch(requestSets());\n  return axios\n    .get(\n      `${types.MEMBER_URL}${memberId}/sets?format=json&page=${nextPage}&perpage=50`\n    )\n    .then(function(response) {\n      const { page, pages, total, sets, perpage } = response.data;\n      dispatch(\n        receiveSets(\n          sets,\n          {\n            page: page,\n            pages: pages,\n            perpage: perpage,\n            total: total\n          },\n          add\n        )\n      );\n    })\n    .catch(function(error) {\n      console.log(error);\n    });\n};\n\nexport const fetchSet = (memberId, setId) => dispatch => {\n  dispatch(requestSet());\n  return axios\n    .get(`${types.MEMBER_URL}${memberId}/sets/${setId}?format=json`)\n    .then(function(response) {\n      dispatch(receiveSet(response.data));\n    })\n    .catch(function(error) {\n      console.log(error);\n    });\n};\n","import * as types from \"../constants/actionTypes\";\n\nimport axios from \"axios\";\n\nfunction requestTuneBook() {\n  return {\n    type: types.REQUEST_TUNEBOOK\n  };\n}\n\nfunction receiveTuneBook(tunes, meta, add = false) {\n  return {\n    type: types.RECEIVE_TUNEBOOK,\n    tunes: tunes,\n    meta: meta,\n    add: add\n  };\n}\n\nfunction requestTune() {\n  return {\n    type: types.REQUEST_TUNE\n  };\n}\n\nfunction receiveTune(tune) {\n  return {\n    type: types.RECEIVE_TUNE,\n    currentTune: tune\n  };\n}\n\nexport const fetchTuneBook = (\n  memberId,\n  nextPage = 1,\n  add = false\n) => dispatch => {\n  dispatch(requestTuneBook());\n  return axios\n    .get(\n      `${types.MEMBER_URL}${memberId}/tunebook?format=json&page=${nextPage}&perpage=50`\n    )\n    .then(function(response) {\n      const { page, pages, perpage, total, tunes } = response.data;\n      dispatch(\n        receiveTuneBook(\n          tunes,\n          {\n            page: page,\n            pages: pages,\n            perpage: perpage,\n            total: total\n          },\n          add\n        )\n      );\n    })\n    .catch(function(error) {\n      alert(\"something went wrong, try again late\");\n    });\n};\n\nexport const fetchTune = tuneId => dispatch => {\n  dispatch(requestTune());\n  return axios\n    .get(`${types.TUNE_URL}${tuneId}?format=json`)\n    .then(function(response) {\n      dispatch(receiveTune(response.data));\n    })\n    .catch(function(error) {\n      console.log(error);\n    });\n};\n","import { LOGOUT, UPDATE_CURRENT_USER } from \"../constants/actionTypes\";\n\nfunction session(\n  state = {\n    currentUser: {}\n  },\n  action\n) {\n  switch (action.type) {\n    case UPDATE_CURRENT_USER:\n      return {\n        ...state,\n        currentUser: action.currentUser\n      };\n    case LOGOUT:\n      return {\n        ...state,\n        currentUser: {}\n      };\n    default:\n      return state;\n  }\n}\n\nexport default session;\n","import tunes from \"./tunes\";\nimport sets from \"./sets\";\nimport ui from \"./ui\";\nimport session from \"./session\";\n\nconst index = {\n  ui,\n  session,\n  tunes,\n  sets\n};\n\nexport default index;\n","import { TOGGLE_DRAWER } from \"../constants/actionTypes\";\n\nfunction ui(\n  state = {\n    showDrawer: false\n  },\n  action\n) {\n  switch (action.type) {\n    case TOGGLE_DRAWER:\n      return Object.assign({}, state, {\n        showDrawer: action.forceClose ? false : !state.showDrawer\n      });\n    default:\n      return state;\n  }\n}\n\nexport default ui;\n","import {\n  RECEIVE_TUNE,\n  RECEIVE_TUNEBOOK,\n  REQUEST_TUNE,\n  REQUEST_TUNEBOOK\n} from \"../constants/actionTypes\";\n\nfunction tunes(\n  state = {\n    isFetching: false,\n    tunes: [],\n    meta: {},\n    currentTune: {\n      isFetching: false\n    }\n  },\n  action\n) {\n  switch (action.type) {\n    case REQUEST_TUNEBOOK:\n      return Object.assign({}, state, {\n        isFetching: true\n      });\n    case RECEIVE_TUNEBOOK:\n      const tunes = action.add\n        ? [...state.tunes, ...action.tunes]\n        : action.tunes;\n      return Object.assign({}, state, {\n        isFetching: false,\n        tunes: tunes,\n        meta: action.meta\n      });\n    case REQUEST_TUNE:\n      return Object.assign({}, state, {\n        currentTune: {\n          isFetching: true\n        }\n      });\n    case RECEIVE_TUNE:\n      const currentTune = action.currentTune;\n      return Object.assign({}, state, {\n        currentTune: {\n          ...currentTune,\n          isFetching: false\n        }\n      });\n    default:\n      return state;\n  }\n}\n\nexport default tunes;\n","import {\n  RECEIVE_SET,\n  RECEIVE_SETS,\n  REQUEST_SET,\n  REQUEST_SETS\n} from \"../constants/actionTypes\";\nfunction sets(\n  state = {\n    isFetching: false,\n    sets: [],\n    meta: {},\n    currentSet: {\n      isFetching: false\n    }\n  },\n  action\n) {\n  switch (action.type) {\n    case REQUEST_SETS:\n      return Object.assign({}, state, {\n        isFetching: true\n      });\n    case RECEIVE_SETS:\n      const sets = action.add ? [...state.sets, ...action.sets] : action.sets;\n      return Object.assign({}, state, {\n        isFetching: false,\n        sets: sets,\n        meta: action.meta\n      });\n    case REQUEST_SET:\n      return Object.assign({}, state, {\n        currentSet: {\n          isFetching: true\n        }\n      });\n    case RECEIVE_SET:\n      const currentSet = action.currentSet;\n      return Object.assign({}, state, {\n        currentSet: {\n          ...currentSet,\n          isFetching: false\n        }\n      });\n    default:\n      return state;\n  }\n}\n\nexport default sets;\n","import { applyMiddleware, compose, createStore, combineReducers } from \"redux\";\nimport { loadState, saveState } from \"./helpers/localStorage\";\n\nimport LogRocket from \"logrocket\";\nimport rootReducer from \"./reducers/index\";\nimport thunk from \"redux-thunk\";\n\nconst persistedState = loadState();\n\nconst middlewares = [thunk];\n\nif (process.env.NODE_ENV !== \"development\") {\n  LogRocket.init(\"hh8o22/foinn\");\n}\n\nconst composeEnhancers =\n  process.env.NODE_ENV === \"development\" &&\n  typeof window === \"object\" &&\n  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        // Specify extensionâ€™s options like name, actionsBlacklist, actionsCreators, serialize...\n      })\n    : compose;\n\nconst store = createStore(\n  combineReducers(rootReducer),\n  persistedState,\n  composeEnhancers(applyMiddleware(...middlewares))\n);\n\nstore.subscribe(() => {\n  saveState({\n    session: store.getState().session,\n    tunes: store.getState().tunes,\n    sets: store.getState().sets\n  });\n});\n\nexport default store;\n","export const loadState = () => {\n  try {\n    const serializedState = localStorage.getItem(\"state\");\n    if (serializedState === null) {\n      return undefined;\n    }\n\n    return JSON.parse(serializedState);\n  } catch (e) {\n    return undefined;\n  }\n};\n\nexport const saveState = state => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem(\"state\", serializedState);\n  } catch (e) {\n    return undefined;\n  }\n};\n","import { TOGGLE_DRAWER } from \"../constants/actionTypes\";\n\nexport function toggleDrawer(forceClose = false) {\n  return {\n    type: TOGGLE_DRAWER,\n    forceClose\n  };\n}\n","import { AutoSizer, InfiniteLoader, List } from \"react-virtualized\";\nimport {\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  withStyles\n} from \"@material-ui/core\";\nimport React, { Component } from \"react\";\n\nimport MusicNote from \"@material-ui/icons/MusicNote\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport classNames from \"classnames\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { fetchSets } from \"../actions/sets\";\nimport { fetchTuneBook } from \"../actions/tuneBook\";\nimport he from \"he\";\nimport store from \"../store\";\nimport { toggleDrawer } from \"../actions/ui\";\n\nconst styles = () => ({\n  activeListItem: {\n    background: \"#ddd\"\n  }\n});\n\nclass DrawerItems extends Component {\n  handleClick = () => _e => {\n    store.dispatch(toggleDrawer(true));\n  };\n\n  componentWillReceiveProps(nextProps) {\n    this.list && this.list.forceUpdateGrid();\n    if (nextProps.type !== this.props.type) {\n      document.getElementById(\"drawer\").scrollTop = 0;\n    }\n  }\n\n  isActive(id) {\n    return id === parseInt(this.props.match.params.tuneId, 10);\n  }\n\n  _isRowLoaded = ({ index }) => {\n    return !!this.props.items[index];\n  };\n\n  _loadMoreRows = () => {\n    const sets = this.props.type === \"sets\";\n    const nextPage = this.props.meta.page + 1;\n\n    if (nextPage > this.props.meta.pages) return false;\n\n    if (sets) {\n      store.dispatch(fetchSets(this.props.userId, nextPage, true));\n    } else {\n      store.dispatch(fetchTuneBook(this.props.userId, nextPage, true));\n    }\n  };\n\n  _rowRenderer = ({ index, key, style }) => {\n    const item = this.props.items[index];\n    const itemName =\n      item &&\n      (item.name.length > 40\n        ? he.decode(item.name).substring(0, 40) + \"...\"\n        : he.decode(item.name));\n\n    if (!item) {\n      return (\n        <div style={style} key={index}>\n          Loading\n        </div>\n      );\n    }\n\n    return (\n      <ListItem\n        style={style}\n        key={index}\n        component={Link}\n        className={classNames({\n          [`${this.props.classes.activeListItem}`]: this.isActive(item.id)\n        })}\n        button\n        to={\n          this.props.match.params.tuneId\n            ? `${item.id}`\n            : `${this.props.match.url}/${item.id}`\n        }\n      >\n        <ListItemIcon>\n          <MusicNote />\n        </ListItemIcon>\n        <ListItemText primary={itemName} secondary={item.type} />\n      </ListItem>\n    );\n  };\n\n  render() {\n    const { meta, height, isSets } = this.props;\n\n    if (_isEmpty(meta)) {\n      return null;\n    }\n\n    return (\n      <InfiniteLoader\n        isRowLoaded={this._isRowLoaded}\n        loadMoreRows={this._loadMoreRows}\n        rowCount={meta.total}\n      >\n        {({ onRowsRendered, registerChild }) => (\n          <AutoSizer disableHeight>\n            {({ width }) => (\n              <List\n                ref={el => (this.list = el)}\n                height={height || 0}\n                onRowsRendered={onRowsRendered}\n                rowCount={meta.total}\n                rowHeight={isSets ? 80 : 80}\n                rowRenderer={this._rowRenderer}\n                threshold={300}\n                width={width}\n                id=\"drawer\"\n              />\n            )}\n          </AutoSizer>\n        )}\n      </InfiniteLoader>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  const sets = props.type === \"sets\";\n\n  return {\n    items: sets ? state.sets.sets : state.tunes.tunes,\n    meta: sets ? state.sets.meta : state.tunes.meta,\n    router: state.router,\n    userId: state.session.currentUser.id,\n    isSets: props.type === \"sets\",\n    currentUser: state.session.currentUser\n  };\n};\n\nexport default withRouter(\n  connect(mapStateToProps)(withStyles(styles)(DrawerItems))\n);\n","import { SIDEBAR_WIDTH } from \"../constants/layout\";\n\nexport const layoutStyles = theme => ({\n  root: {\n    flexGrow: 1,\n    zIndex: 1,\n    overflowX: \"hidden\",\n    overflowY: \"auto\",\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100vh\"\n  },\n  appBar: {\n    position: \"fixed\",\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  flex: {\n    flex: 1,\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  menuButton: {\n    marginLeft: 12,\n    marginRight: 20\n  },\n  hide: {\n    display: \"none\"\n  },\n  drawerPaper: {\n    zIndex: theme.zIndex.drawer - 1,\n    width: SIDEBAR_WIDTH,\n    top: 0,\n    left: 0,\n    height: \"100vh\",\n    position: \"fixed\",\n    overflowY: \"auto\"\n  },\n  drawerHeader: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: \"0 8px\",\n    ...theme.mixins.toolbar\n  },\n  logo: {\n    position: \"relative\",\n    transform: \"translateY(-2px)\"\n  },\n  greetings: {\n    marginRight: theme.spacing.unit,\n    opacity: 0.5,\n    display: \"inline-block\"\n  },\n  content: {\n    width: \"100%\",\n    padding: theme.spacing.unit * 3,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    height: \"calc(100% - 56px)\",\n    marginTop: 56\n  },\n  [theme.breakpoints.up(\"md\")]: {\n    content: {\n      marginTop: 64,\n      marginLeft: SIDEBAR_WIDTH\n    },\n    drawerPaper: {\n      height: \"calc(100vh - 64px)\",\n      top: 64\n    }\n  }\n});\n","export const SIDEBAR_WIDTH = 300;\n","import { Drawer, Hidden, withStyles } from \"@material-ui/core\";\nimport React, { Component } from \"react\";\nimport { Route, withRouter, Switch } from \"react-router-dom\";\nimport DrawerItems from \"./DrawerItems\";\nimport { connect } from \"react-redux\";\nimport { fetchSets } from \"../actions/sets\";\nimport { fetchTuneBook } from \"../actions/tuneBook\";\nimport { layoutStyles } from \"../styles/layout\";\nimport store from \"../store\";\nimport { toggleDrawer } from \"../actions/ui\";\n\nclass DrawerResponsive extends Component {\n  state = {\n    elementHeight: 0\n  };\n\n  componentDidMount() {\n    store.dispatch(fetchTuneBook(this.props.userId));\n    store.dispatch(fetchSets(this.props.userId));\n    this.setState({ elementHeight: this.divRef.clientHeight });\n  }\n\n  handleDrawerToggle() {\n    store.dispatch(toggleDrawer());\n  }\n\n  render() {\n    const {\n      classes,\n      folder,\n      match: { url }\n    } = this.props;\n    const items =\n      folder === \"tunes\" ? (\n        <DrawerItems type=\"tunes\" height={this.state.elementHeight} />\n      ) : (\n        <DrawerItems type=\"sets\" height={this.state.elementHeight} />\n      );\n    const drawerContent = (\n      <div>\n        <Switch>\n          <Route path={`${url}/:tuneId`}>{items}</Route>\n          <Route path={`${url}`}>{items}</Route>\n        </Switch>\n      </div>\n    );\n\n    return (\n      <div\n        className={classes.drawerPaper}\n        ref={element => (this.divRef = element)}\n      >\n        <Hidden mdUp>\n          <Drawer\n            variant=\"temporary\"\n            anchor={\"left\"}\n            open={this.props.showDrawer}\n            classes={{\n              paper: classes.drawerPaper\n            }}\n            onClose={this.handleDrawerToggle}\n            ModalProps={{\n              keepMounted: true // Better open performance on mobile.\n            }}\n          >\n            {drawerContent}\n          </Drawer>\n        </Hidden>\n        <Hidden smDown implementation=\"css\">\n          <Drawer\n            variant=\"persistent\"\n            open\n            classes={{\n              paper: classes.drawerPaper\n            }}\n          >\n            {drawerContent}\n          </Drawer>\n        </Hidden>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => ({\n  userId: state.session.currentUser.id\n});\n\nexport default withRouter(\n  connect(mapStateToProps)(withStyles(layoutStyles)(DrawerResponsive))\n);\n","import { Button, Menu, MenuItem } from \"@material-ui/core\";\nimport React, { Component } from \"react\";\n\nimport KeyboardArrowDown from \"@material-ui/icons/KeyboardArrowDown\";\nimport { SIDEBAR_WIDTH } from \"../constants/layout\";\nimport { connect } from \"react-redux\";\nimport { currentSection } from \"../helpers/routerHelper\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { withRouter, Link } from \"react-router-dom\";\n\nconst styles = theme => ({\n  root: {\n    ...theme.mixins.toolbar,\n    display: \"flex\",\n    alignItems: \"center\",\n    marginLeft: \"20px\"\n  },\n  righIcon: {\n    marginLeft: 16\n  }\n});\n\nclass NavDropDown extends Component {\n  state = {\n    anchorEl: null,\n    open: false,\n    selectedIndex: 1\n  };\n\n  handleClickListItem = event => {\n    this.setState({ open: true, anchorEl: event.currentTarget });\n  };\n\n  handleRequestClose = () => {\n    this.setState({ open: false });\n  };\n\n  menuOptions() {\n    return [\n      {\n        label: `Sets (${this.props.setsCount})`,\n        shortLabel: \"Sets\",\n        to: `/tunebook/${this.props.currentUser.id}/sets`,\n        index: 0\n      },\n      {\n        label: `Tunes (${this.props.tunesCount})`,\n        shortLabel: \"Tunes\",\n        to: `/tunebook/${this.props.currentUser.id}/tunes`,\n        index: 1\n      }\n    ];\n  }\n\n  render() {\n    const { classes, location } = this.props;\n    const selectedMenuItem = this.menuOptions().find(o =>\n      o.label.toLowerCase().includes(currentSection(location))\n    );\n\n    return (\n      <div className={classes.root}>\n        <Button\n          aria-owns={this.state.anchorEl ? \"simple-menu\" : null}\n          aria-haspopup=\"true\"\n          onClick={this.handleClickListItem}\n          color=\"secondary\"\n        >\n          {selectedMenuItem.shortLabel}\n          <KeyboardArrowDown className={classes.righIcon} />\n        </Button>\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={this.state.anchorEl}\n          open={this.state.open}\n          onClose={this.handleRequestClose}\n          PaperProps={{\n            style: {\n              width: SIDEBAR_WIDTH - 35\n            }\n          }}\n        >\n          {this.menuOptions().map((option, index) => (\n            <MenuItem\n              key={option.label}\n              component={Link}\n              selected={index === selectedMenuItem.index}\n              to={option.to}\n              onClick={() => this.handleRequestClose()}\n            >\n              {option.label}\n            </MenuItem>\n          ))}\n        </Menu>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    tunesCount: state.tunes.meta && state.tunes.meta.total,\n    setsCount: state.sets.meta && state.sets.meta.total,\n    currentUser: state.session.currentUser\n  };\n};\n\nexport default withRouter(\n  connect(mapStateToProps)(withStyles(styles)(NavDropDown))\n);\n","export const currentSection = location => {\n  return location.pathname && location.pathname.split(\"/\")[3].toLowerCase();\n};\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core\";\n\nconst styles = () => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    height: \"100%\",\n    justifyContent: \"center\"\n  }\n});\n\nfunction EmptyState(props) {\n  return (\n    <div className={props.classes.root}>Please select a item from the list</div>\n  );\n}\n\nexport default withStyles(styles)(EmptyState);\n","import { TUNE_URL } from \"../constants/actionTypes\";\n\nconst tuneTypes = {\n  jig: {\n    key: \"3/4\",\n    tempo: \"140\"\n  },\n  reel: {\n    key: \"4/4\",\n    tempo: \"180\"\n  },\n  \"slip jig\": {\n    key: \"9/8\",\n    tempo: \"260\"\n  },\n  hornpipe: {\n    key: \"4/4\",\n    tempo: \"180\"\n  },\n  polka: {\n    key: \"2/4\",\n    tempo: \"100\"\n  },\n  slide: {\n    key: \"12/8\",\n    tempo: \"250\"\n  },\n  waltz: {\n    key: \"3/4\",\n    tempo: \"160\"\n  },\n  barndance: {\n    key: \"4/4\",\n    tempo: \"140\"\n  },\n  strathspey: {\n    key: \"4/4\",\n    tempo: \"140\"\n  },\n  \"three-two\": {\n    key: \"3/2\",\n    tempo: \"140\"\n  },\n  mazurka: {\n    key: \"3/4\",\n    tempo: \"140\"\n  }\n};\n\nexport const abcReformatter = (tune, type, name) => {\n  if (tune.abc === undefined) {\n    return \"\";\n  }\n\n  const tuneType = !!type ? type : tune.type;\n\n  const abc = tune.abc.split(\"! \").join(\"\\n\");\n  const tuneName = `T: ${name}`;\n  const timeSignature = `M: ${tuneTypes[tuneType].key}`;\n  const tuneKey = `K: ${tune.key}`;\n  const noteLength = `L: 1/8`;\n  const tempo = `Q: ${tuneTypes[tuneType].tempo}`;\n\n  return [tuneName, timeSignature, tempo, noteLength, tuneKey, abc].join(\"\\n\");\n};\n\nexport const printUrl = tuneId => {\n  return `${TUNE_URL}${tuneId}/${tuneId}?print=true`;\n};\n","import React, { Component } from \"react\";\n\nimport { abcReformatter } from \"../helpers/abcHelper\";\n// eslint-disable-next-line import/no-webpack-loader-syntax\n//import abcjs from \"exports-loader?ABCJS!script-loader!../../node_modules/abcjs/bin/abcjs_basic_latest-min.js\";\nimport abcjs from \"abcjs\";\n// import abcjsMidi from \"abcjs/midi\";\nimport he from \"he\";\nimport reactDimensions from \"react-dimensions\";\nimport { withStyles } from \"@material-ui/core\";\n\nconst styles = theme => ({\n  root: {\n    margin: \"20px auto\",\n\n    maxWidth: \"640px\",\n    borderBottom: \"1px solid #ccc\",\n    \"&:last-child\": {\n      border: \"none\",\n      marginBottom: 0,\n      paddingBottom: 0\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      padding: \"20px\"\n    }\n  }\n});\n\nclass SheetMusic extends Component {\n  renderAbc(width) {\n    const engraverParams = {\n      paddingright: 0,\n      paddingleft: 0,\n      responsive: \"resize\"\n    };\n    const parserParams = {};\n    const renderParams = {};\n    abcjs.renderAbc(\n      this.el,\n      abcReformatter(this.props.tune, this.props.type, this.title()),\n      parserParams,\n      engraverParams,\n      renderParams\n    );\n  }\n\n  // renderMidi() {\n  //   abcjsMidi.renderMidi(\n  //     this.midi,\n  //     abcReformatter(this.props.tune, this.props.type, this.title()),\n  //     {},\n  //     {\n  //       inlineControls: {\n  //         selectionToggle: false,\n  //         loopToggle: false,\n  //         standard: true,\n  //         tempo: false,\n  //         startPlaying: false\n  //       }\n  //     },\n  //     {}\n  //   );\n  // }\n\n  title() {\n    return this.props.tune.name\n      ? `${he.decode(this.props.tune.name)} (${this.props.tune.key} - ${\n          this.props.tune.type\n        })`\n      : `${this.props.tune.key} - ${this.props.type}`;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const newWidth = nextProps.containerWidth;\n    if (this.props.containerWidth !== newWidth) {\n      this.renderAbc(this.props.containerWidth);\n      this.renderMidi(this.props.containerWidth);\n    }\n  }\n\n  componentDidMount() {\n    this.renderAbc(this.props.containerWidth);\n    // this.renderMidi(this.props.containerWidth);\n  }\n\n  // <div ref={el => (this.midi = el)} />\n  render() {\n    return (\n      <div className={this.props.classes.root}>\n        <div ref={el => (this.el = el)} />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(reactDimensions()(SheetMusic));\n","import {\n  Button,\n  Card,\n  CardActions,\n  CardContent,\n  CircularProgress,\n  Grid,\n  Hidden,\n  Tooltip,\n  Typography,\n  withStyles\n} from \"@material-ui/core\";\nimport React, { Component } from \"react\";\n\nimport FileCopyIcon from \"@material-ui/icons/FileCopyOutlined\";\nimport { withRouter } from \"react-router-dom\";\nimport PrintIcon from \"@material-ui/icons/PrintOutlined\";\nimport SheetMusic from \"./SheetMusic\";\nimport { TUNE_URL } from \"../constants/actionTypes\";\nimport { connect } from \"react-redux\";\nimport { fetchSet } from \"../actions/sets\";\nimport he from \"he\";\nimport { safeObj } from \"../helpers/objectHelper\";\nimport store from \"../store\";\n\nconst styles = theme => ({\n  card: {\n    margin: `${theme.spacing.unit * 10}px 0`\n  },\n  title: {\n    marginBottom: 16,\n    fontSize: 14,\n    color: theme.palette.text.secondary\n  },\n  settings: {},\n  iconBtn: {\n    marginRight: \"10px\"\n  },\n  mainTitle: {\n    textAlign: \"center\",\n    marginTop: theme.spacing.unit * 2,\n    fontWeight: 100,\n    opacity: 0.7,\n    [theme.breakpoints.down(\"sm\")]: {\n      fontSize: \"21px\"\n    }\n  },\n  printButton: {\n    textAlign: \"center\"\n  }\n});\n\nclass Set extends Component {\n  componentDidMount() {\n    store.dispatch(fetchSet(this.props.userId, this.props.setId));\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const newSetId = nextProps.setId;\n    if (this.props.setId !== newSetId) {\n      store.dispatch(fetchSet(this.props.userId, newSetId));\n    }\n  }\n\n  render() {\n    const printUrl = `https://thesession.org/members/${this.props.userId}/sets/${this.props.setId}/sheetmusic?print=true`;\n    const { classes } = this.props;\n\n    if (this.props.isFetching) {\n      return (\n        <Grid container spacing={24}>\n          <Grid item xs={12} md={8}>\n            <CircularProgress />\n          </Grid>\n        </Grid>\n      );\n    }\n\n    if (!safeObj(this.props.currentSet).name) {\n      return null;\n    }\n\n    return (\n      <div>\n        <Grid container spacing={24}>\n          <Grid item xs={12} md={8}>\n            <Typography className={this.props.classes.mainTitle} variant=\"h1\">\n              {he.decode(this.props.currentSet.name)}\n            </Typography>\n            <Hidden smDown>\n              <p className={classes.printButton}>\n                <Button href={printUrl} target=\"_blank\" mini>\n                  <PrintIcon className={classes.iconBtn} />\n                  Print\n                </Button>\n                <Tooltip title=\"If your viewing another users set, you can copy it to your tuebook. Click to go the session.org where you can add it to yours.\">\n                  <Button href={this.props.currentSet.url} target=\"_blank\" mini>\n                    <FileCopyIcon className={classes.iconBtn} />\n                    Copy\n                  </Button>\n                </Tooltip>\n              </p>\n            </Hidden>\n          </Grid>\n        </Grid>\n        <div className={classes.settings}>\n          {this.props.currentSet.settings.map(setting => {\n            return (\n              <Grid container spacing={24} key={setting.id}>\n                <Grid item xs={12} md={8}>\n                  <SheetMusic tune={setting} />\n                </Grid>\n                <Hidden smDown>\n                  <Grid item xs={12} md={4}>\n                    <Card className={classes.card} key={setting.id}>\n                      <CardContent>\n                        <Typography variant=\"subtitle1\" gutterBottom>\n                          Setting {he.decode(setting.name)} ({setting.key})\n                        </Typography>\n                        <Typography variant=\"caption\">\n                          by {setting.member.name} on {setting.date}\n                        </Typography>\n                      </CardContent>\n                      <CardActions>\n                        <Button\n                          component={\"a\"}\n                          target=\"_blank\"\n                          href={`${TUNE_URL}${setting.id}`}\n                        >\n                          View on The Session.org\n                        </Button>\n                      </CardActions>\n                    </Card>\n                  </Grid>\n                </Hidden>\n              </Grid>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => ({\n  setId: props.match.params.setId,\n  currentSet: state.sets.currentSet,\n  userId: state.session.currentUser.id,\n  isFetching: state.sets.currentSet.isFetching\n});\n\nexport default withRouter(connect(mapStateToProps)(withStyles(styles)(Set)));\n","export const safeObj = obj => obj || {};\n","import EmptyState from \"./EmptyState\";\nimport { Route } from \"react-router-dom\";\nimport React from \"react\";\nimport Set from \"./Set\";\nimport { withRouter, Switch } from \"react-router-dom\";\n\nfunction Sets(props) {\n  const {\n    match: { url }\n  } = props;\n  return (\n    <div>\n      <Switch>\n        <Route path={`${url}/:setId`}>\n          <Set />\n        </Route>\n        <Route path={`${url}`}>\n          <EmptyState />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default withRouter(Sets);\n","import {\n  Button,\n  Card,\n  CardActions,\n  CardContent,\n  CircularProgress,\n  Grid,\n  Hidden,\n  Typography,\n  withStyles\n} from \"@material-ui/core\";\nimport React, { Component } from \"react\";\n\nimport { withRouter } from \"react-router-dom\";\nimport SheetMusic from \"./SheetMusic\";\nimport { TUNE_URL } from \"../constants/actionTypes\";\nimport { connect } from \"react-redux\";\nimport { fetchTune } from \"../actions/tuneBook\";\nimport he from \"he\";\nimport store from \"../store\";\n\nconst styles = theme => ({\n  card: {\n    margin: `${theme.spacing.unit * 10}px 0`\n  },\n  settings: theme.mixins.gutters({\n    paddingTop: theme.spacing.unit,\n    paddingBottom: theme.spacing.unit\n  }),\n  flex: {\n    flex: 1\n  },\n  title: {\n    textAlign: \"center\",\n    marginTop: theme.spacing.unit * 2,\n    fontWeight: 100,\n    opacity: 0.7\n  }\n});\n\nclass Tune extends Component {\n  componentDidMount() {\n    store.dispatch(fetchTune(this.props.tuneId));\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const newTuneId = nextProps.tuneId;\n    if (this.props.tuneId !== newTuneId) {\n      store.dispatch(fetchTune(newTuneId));\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    if (this.props.isFetching) {\n      return (\n        <Grid container spacing={24}>\n          <Grid item xs={12} md={8}>\n            <CircularProgress />\n          </Grid>\n        </Grid>\n      );\n    }\n\n    if (\n      this.props.currentTune === undefined ||\n      this.props.currentTune.name === undefined\n    ) {\n      return null;\n    }\n\n    return (\n      <div>\n        <Grid container spacing={24}>\n          <Grid item xs={12} md={8}>\n            <Typography className={this.props.classes.title} variant=\"h1\">\n              {he.decode(this.props.currentTune.name)}\n            </Typography>\n          </Grid>\n        </Grid>\n        {this.props.currentTune.settings.map(setting => {\n          return (\n            <Grid container spacing={24} key={setting.id}>\n              <Grid item xs={12} md={8}>\n                <SheetMusic tune={setting} type={this.props.currentTune.type} />\n              </Grid>\n              <Hidden smDown>\n                <Grid item md={4}>\n                  <Card className={classes.card} key={setting.id}>\n                    <CardContent>\n                      <Typography variant=\"subtitle1\" gutterBottom>\n                        Setting #{setting.id} ({setting.key})\n                      </Typography>\n                      <Typography variant=\"caption\">\n                        by {setting.member.name} on {setting.date}\n                      </Typography>\n                    </CardContent>\n                    <CardActions>\n                      <Button\n                        component={\"a\"}\n                        target=\"_blank\"\n                        href={`${TUNE_URL}${this.props.currentTune.id}#setting${setting.id}`}\n                      >\n                        View on The Session.org\n                      </Button>\n                    </CardActions>\n                  </Card>\n                </Grid>\n              </Hidden>\n            </Grid>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => ({\n  currentTune: state.tunes.currentTune,\n  isFetching: state.tunes.currentTune.isFetching,\n  tuneId: props.match.params.tuneId\n});\n\nexport default withRouter(connect(mapStateToProps)(withStyles(styles)(Tune)));\n","import EmptyState from \"./EmptyState\";\nimport { Route } from \"react-router-dom\";\nimport React from \"react\";\nimport Tune from \"./Tune\";\nimport { withRouter, Switch } from \"react-router-dom\";\nfunction Tunebook(props) {\n  const {\n    match: { url }\n  } = props;\n  return (\n    <div>\n      <Switch>\n        <Route path={`${url}/:tuneId`}>\n          <Tune />\n        </Route>\n        <Route path={`${url}`}>\n          <EmptyState />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default withRouter(Tunebook);\n","import {\n  LOGOUT,\n  MEMBER_URL,\n  REQUEST_USER_ID,\n  UPDATE_CURRENT_USER\n} from \"../constants/actionTypes\";\n\nimport axios from \"axios\";\n\nexport function updateCurrentUser(currentUser) {\n  return {\n    type: UPDATE_CURRENT_USER,\n    currentUser: currentUser\n  };\n}\n\nexport function logout() {\n  return {\n    type: LOGOUT\n  };\n}\n\nexport function requestUserId() {\n  return {\n    type: REQUEST_USER_ID\n  };\n}\n\nexport const fetchUserId = query => {\n  return axios\n    .get(`${MEMBER_URL}search?q=${query}&format=json`)\n    .catch(function(error) {\n      console.log(error);\n    });\n};\n","import \"./App.css\";\n\nimport { Button, Hidden } from \"@material-ui/core\";\nimport Help from \"@material-ui/icons/Help\";\nimport React, { Component } from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport DrawerResponsive from \"./components/DrawerResponsive\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport NavDropDown from \"./components/NavDropDown\";\nimport Sets from \"./components/Sets\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Tunebook from \"./components/Tunebook\";\nimport { connect } from \"react-redux\";\nimport isEmpty from \"lodash/isEmpty\";\nimport { layoutStyles } from \"./styles/layout\";\nimport { logout } from \"./actions/session\";\nimport smallLogoUrl from \"./images/logo-small.svg\";\nimport store from \"./store\";\nimport { toggleDrawer } from \"./actions/ui\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Redirect, withRouter } from \"react-router-dom\";\n\nclass App extends Component {\n  handleDrawerToggle() {\n    store.dispatch(toggleDrawer());\n  }\n\n  render() {\n    const { classes, isLoggedOut, match } = this.props;\n    const folder = match.params.folder;\n\n    if (isLoggedOut) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <div className={classes.root}>\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Hidden mdUp>\n              <IconButton\n                color=\"secondary\"\n                aria-label=\"open drawer\"\n                onClick={this.handleDrawerToggle}\n                className={classes.navIconHide}\n              >\n                <MenuIcon />\n              </IconButton>\n            </Hidden>\n            <div className={classes.flex}>\n              <Hidden smDown>\n                <img src={smallLogoUrl} alt=\"Foinn\" className={classes.logo} />\n              </Hidden>\n              <NavDropDown />\n            </div>\n\n            <Hidden smDown>\n              <span className={classes.greetings}>\n                Hi! {this.props.currentUser.name}\n              </span>\n            </Hidden>\n            <Button onClick={() => this.props.logout()} color=\"secondary\">\n              Change user\n            </Button>\n            <IconButton\n              size=\"small\"\n              component=\"a\"\n              color=\"secondary\"\n              href=\"mailto:accounts+foinn@rorsvort.com\"\n            >\n              <Help />\n            </IconButton>\n          </Toolbar>\n        </AppBar>\n        <div className={classes.content}>\n          {folder === \"tunes\" ? <Tunebook /> : <Sets />}\n        </div>\n        <DrawerResponsive showDrawer={this.props.showDrawer} folder={folder} />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  showDrawer: state.ui.showDrawer,\n  isLoggedOut: isEmpty(state.session.currentUser),\n  currentUser: state.session.currentUser\n});\n\nexport default withRouter(\n  connect(mapStateToProps, { logout })(withStyles(layoutStyles)(App))\n);\n","import { MenuItem, Paper, TextField, withStyles } from \"@material-ui/core\";\nimport React, { Component } from \"react\";\nimport { fetchUserId, updateCurrentUser } from \"../actions/session\";\n\nimport Autosuggest from \"react-autosuggest\";\nimport match from \"autosuggest-highlight/match\";\nimport parse from \"autosuggest-highlight/parse\";\nimport store from \"../store\";\n\nconst styles = theme => ({\n  suggestionsContainer: {\n    position: \"relative\",\n    zIndex: 999\n  },\n  suggestionsContainerOpen: {\n    position: \"absolute\",\n    marginBottom: theme.spacing.unit * 3,\n    left: 0,\n    right: 0\n  },\n  suggestion: {\n    display: \"block\"\n  },\n  suggestionsList: {\n    margin: 0,\n    padding: 0,\n    listStyleType: \"none\"\n  },\n  textField: {\n    width: \"100%\"\n  }\n});\n\nfunction renderInput(inputProps) {\n  const { classes, autoFocus, value, ref, ...other } = inputProps;\n\n  return (\n    <TextField\n      className={classes.textField}\n      autoFocus={autoFocus}\n      value={value}\n      inputRef={ref}\n      styles={{\n        width: \"100%\"\n      }}\n      InputProps={{\n        className: classes.input,\n        ...other\n      }}\n    />\n  );\n}\n\nfunction renderSuggestion(suggestion, { query, isHighlighted }) {\n  const matches = match(suggestion.name, query);\n  const parts = parse(suggestion.name, matches);\n\n  return (\n    <MenuItem selected={isHighlighted} component=\"div\">\n      <div>\n        {parts.map((part, index) => {\n          return part.highlight ? (\n            <span key={index} style={{ fontWeight: 300 }}>\n              {part.text}\n            </span>\n          ) : (\n            <strong key={index} style={{ fontWeight: 500 }}>\n              {part.text}\n            </strong>\n          );\n        })}\n      </div>\n    </MenuItem>\n  );\n}\n\nfunction renderSuggestionsContainer(options) {\n  const { containerProps, children } = options;\n  return (\n    <Paper {...containerProps} square>\n      {children}\n    </Paper>\n  );\n}\n\nfunction getSuggestionValue(suggestion) {\n  store.dispatch(updateCurrentUser(suggestion));\n  return suggestion.name;\n}\n\nclass NameAutoComplete extends Component {\n  state = {\n    value: this.props.userName,\n    selectedSuggestion: {},\n    suggestions: []\n  };\n\n  handleSuggestionsFetchRequested = ({ value }) => {\n    if (value.length < 4) {\n      return false;\n    } else {\n      fetchUserId(value).then(data => {\n        if (data !== undefined) {\n          this.setState({ suggestions: data.data.members });\n        } else {\n          return [];\n        }\n      });\n    }\n  };\n\n  handleSuggestionsClearRequested = () => {\n    this.setState({\n      suggestions: []\n    });\n  };\n\n  handleChange = (event, { newValue }) => {\n    this.setState({ value: newValue });\n  };\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <Autosuggest\n        theme={{\n          container: classes.suggestionsContainer,\n          suggestionsContainerOpen: classes.suggestionsContainerOpen,\n          suggestionsList: classes.suggestionsList,\n          suggestion: classes.suggestion\n        }}\n        renderInputComponent={renderInput}\n        suggestions={this.state.suggestions}\n        onSuggestionsFetchRequested={this.handleSuggestionsFetchRequested}\n        onSuggestionsClearRequested={this.handleSuggestionsClearRequested}\n        renderSuggestionsContainer={renderSuggestionsContainer}\n        getSuggestionValue={getSuggestionValue}\n        renderSuggestion={renderSuggestion}\n        inputProps={{\n          autoFocus: false,\n          classes,\n          placeholder: \"Search by typing your user name\",\n          value: this.state.value,\n          onChange: this.handleChange\n        }}\n      />\n    );\n  }\n}\n\nexport default withStyles(styles)(NameAutoComplete);\n","import { Button, Grid, Paper, Typography, withStyles } from \"@material-ui/core\";\n\nimport BodyClassName from \"react-body-classname\";\nimport { Link } from \"react-router-dom\";\nimport NameAutoComplete from \"./NameAutoComplete\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport isEmpty from \"lodash/isEmpty\";\nimport logoUrl from \"../images/logo.svg\";\n\nconst styles = theme => ({\n  container: {\n    height: \"100vh\"\n  },\n  paper: {\n    margin: \"0 auto\",\n    padding: \"20px\"\n  },\n  button: {\n    color: \"white\",\n    marginTop: theme.spacing.unit * 2\n  },\n  home: {\n    background: theme.palette.primary[500]\n  },\n  logo: {\n    maxWidth: \"100%\",\n    margin: \"0 auto 40px\",\n    display: \"block\"\n  },\n  title: {\n    fontSize: 21,\n    fontWeight: \"normal\",\n    textAlign: \"center\",\n    lineHeight: 1.5,\n    color: \"white\",\n    opacity: 0.8\n  },\n  login: {\n    alignSelf: \"flex-start\"\n  }\n});\n\nfunction Home(props) {\n  const { classes, userName, currentUser } = props;\n  return (\n    <BodyClassName className={classes.home}>\n      <Grid\n        container\n        spacing={24}\n        alignItems=\"center\"\n        justify=\"center\"\n        direction=\"row\"\n        className={classes.container}\n      >\n        <Grid item xs={12} md={12}>\n          <img src={logoUrl} alt=\"Foinn app\" className={classes.logo} />\n          <h1 className={classes.title}>\n            Browse your tunes and sets from Thessession.org <br />\n            <small>The ideal session companion</small>\n          </h1>\n        </Grid>\n        <Grid item xs={12} md={4} className={classes.login}>\n          <Paper className={classes.paper} elevation={8}>\n            <Typography variant=\"subtitle1\" gutterBottom>\n              To start, select your{\" \"}\n              <a\n                href=\"https://thesession.org\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                TheSession.org\n              </a>{\" \"}\n              user name.\n            </Typography>\n            <NameAutoComplete userName={userName} />\n            {userName && (\n              <Button\n                to={`/tunebook/${currentUser.id}/tunes`}\n                className={classes.button}\n                component={Link}\n                variant=\"raised\"\n                color=\"primary\"\n              >\n                Open tunebook\n              </Button>\n            )}\n          </Paper>\n        </Grid>\n      </Grid>\n    </BodyClassName>\n  );\n}\n\nconst mapStateToProps = state => ({\n  currentUser: state.session.currentUser,\n  userName: !isEmpty(state.session.currentUser)\n    ? state.session.currentUser.name\n    : \"\"\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(Home));\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import \"./index.css\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\n\nimport App from \"./App\";\nimport Home from \"./components/Home\";\nimport { Provider } from \"react-redux\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport green from \"@material-ui/core/colors/green\";\nimport red from \"@material-ui/core/colors/red\";\nimport registerServiceWorker from \"./registerServiceWorker\";\nimport store from \"./store\";\n\nconst white = {\n  50: \"#fff\",\n  100: \"#fff\",\n  200: \"#fff\",\n  300: \"#fff\",\n  400: \"#fff\",\n  500: \"#fff\",\n  600: \"#fff\",\n  700: \"#fff\",\n  800: \"#fff\",\n  900: \"#fff\",\n  A100: \"#fff\",\n  A200: \"#fff\",\n  A400: \"#fff\",\n  A700: \"#fff\",\n  contrastDefaultColor: \"brown\"\n};\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: green,\n    secondary: {\n      ...white\n    },\n    error: red\n  },\n  typography: {\n    useNextVariants: true,\n    h1: {\n      fontFamily: \"'Kaushan Script', 'cursive'\",\n      fontSize: \"2.8125rem\"\n    }\n  }\n});\n\nconst app = (\n  <MuiThemeProvider theme={theme}>\n    <Provider store={store}>\n      <Router>\n        <div>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route path=\"/tunebook/:userId/:folder\">\n            <App />\n          </Route>\n        </div>\n      </Router>\n    </Provider>\n  </MuiThemeProvider>\n);\n\nReactDOM.render(app, document.getElementById(\"root\"));\nregisterServiceWorker();\n"],"sourceRoot":""}